@import "tailwindcss";
@import "@fontsource-variable/newsreader/wght.css";
@import "@fontsource-variable/newsreader/wght-italic.css";

@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Typography */
  --font-serif: "Newsreader Variable", ui-serif, Georgia, Cambria,
    "Times New Roman", Times, serif;

  /* Colors - semantic tokens */
  --color-bg: #f8f5ed;
  --color-bg-dark: var(--color-neutral-900);
  --color-text: var(--color-neutral-800);
  --color-text-dark: var(--color-neutral-200);
  --color-muted: var(--color-neutral-500);
  --color-muted-dark: var(--color-neutral-400);
  --color-border: var(--color-neutral-200);
  --color-border-dark: var(--color-neutral-800);

  /* Code blocks */
  --color-code-bg: color-mix(in srgb, var(--color-neutral-200) 50%, transparent);
  --color-code-bg-dark: color-mix(in srgb, var(--color-neutral-800) 50%, transparent);
}

@layer base {
  html {
    @apply bg-[var(--color-bg)] text-[var(--color-text)] dark:bg-[var(--color-bg-dark)] dark:text-[var(--color-text-dark)];
  }

  body {
    @apply font-serif antialiased;
  }

  /* Typography */
  h1 {
    @apply mb-1 text-xl font-medium leading-tight md:text-2xl;
  }

  h2 {
    @apply mt-12 mb-2 text-lg font-normal leading-tight md:text-xl;
  }

  p {
    @apply my-5;
  }

  /* Links */
  a {
    @apply underline decoration-1 underline-offset-2 transition-[text-decoration-color] duration-150 decoration-[var(--color-muted)] hover:decoration-[var(--color-text)] dark:decoration-[var(--color-muted-dark)] dark:hover:decoration-[var(--color-text-dark)];
  }

  /* Lists */
  ul {
    @apply list-none space-y-1 pl-0;
  }

  ol {
    @apply list-decimal space-y-1 pl-5;
  }

  li {
    @apply pl-1;
  }

  /* Dividers */
  hr {
    @apply my-8 border-[var(--color-border)] dark:border-[var(--color-border-dark)];
  }

  /* Code */
  code {
    @apply rounded px-1 py-0.5 text-[0.9em];
    background: var(--color-code-bg);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      "Liberation Mono", "Courier New", monospace;
  }

  :is(.dark) code {
    background: var(--color-code-bg-dark);
  }

  pre {
    @apply my-5 overflow-x-auto rounded-md p-4;
    background: var(--color-code-bg);
  }

  :is(.dark) pre {
    background: var(--color-code-bg-dark);
  }

  pre code {
    @apply bg-transparent p-0;
  }
}
